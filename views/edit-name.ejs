<!DOCTYPE html>
<html lang="en">

<body>
  <%- include('partials/nav') %>

    <main>
      <h3 class="title">Customize Pizza</h3>
      <table class="edit-table">
        <thead>
          <tr>
            <th scope="col">Pizza</th>
            <th scope="col">Cheeses</th>
            <th scope="col">Meats</th>
            <th scope="col">Veggies</th>
            <th scope="col">Stomach Storage</th>
            <th scope="col">Price</th>
          </tr>
        </thead>

        <% const getToppings = function(pizzaName) { %>

          <% for(const id in cart) { %>
            <% const pizzaArr = cart[id].pizzas %>
            <% for(const pizza of pizzaArr) { %>
              <% if(pizza.name === pizzaName) { %>
                <% return pizza.toppings %>

          <% }}}} %>



                <% const toppings = getToppings(selectedPizza) %>

        <tbody>
          <tr class="pizza">
            <td>
              <div class="item-container">
                <p><%=selectedPizza%></p>
                <img src="https://freepngimg.com/thumb/pizza/35510-7-pepperoni-pizza.png">
              </div>
            </td>

            <td>

            <% for (category in result) { %>
              <% if(category !=='Size' ){%>
              <td>
                <% for (topping in result[category]) { %>

                    <% if (toppings.includes(result[category][topping])) { %>

                      <div class="check-group">
                        <input class="check" type="checkbox" value="checked" checked>
                        <label>
                          <%=result[category][topping] %>
                        </label>
                      </div>

                    <% } else { %>

                      <div class="check-group">
                        <input class="check" type="checkbox" >
                        <label>
                          <%=result[category][topping] %>
                        </label>
                      </div>

                    <% } %>

                    <% } %>
              </td>
                <% } }%>

                  <td>
                    <div>
                      <form>
                        <select name="size" id="size">
                          <% for (const option of result.Size) { %>
                            <option value="<%=option%>">
                              <%= option %>
                            </option>
                            <% }%>
                        </select>
                      </form>
                    </div>
                  </td>
                  <div>
                    <td class="last">
                      <%='priceFromCookie' %> BTC
                    </td>
                  </div>

          </tr>

        </tbody>
        <tfoot class="table-footer">
          <tr>
            <th colspan="5">Uploading text animation ======> 60%</th>
            <th>
              <button type="submit" class="upload">upload</button>
              </form>
            </th>
          </tr>
        </tfoot>
      </table>
    </main>
</body>

</html>
